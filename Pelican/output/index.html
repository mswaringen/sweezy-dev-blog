<!DOCTYPE html>
<html lang="en">
<head>
        <title>sweezy.dev</title>
        <meta charset="utf-8" />
        <meta name="generator" content="Pelican" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/@exampledev/new.css@1.1.2/new.min.css" />
</head>

<body>
        <header>
              <hgroup><h1><a href="/">sweezy.dev</a></h1></hgroup>
        <nav><ul>
            <li><a href="/pages/about.html" >About</a></li>
            <li><a href="/category/devops.html" >devops</a></li>
            <li><a href="/category/review.html" >Review</a></li>
        </ul></nav>
        </header>
        <main>
<h2>All articles</h2>


        <article>
                <header> <h2><a href="/deploying-cookiecutter-django-on-flyio.html" rel="bookmark" title="Permalink to Deploying Cookiecutter Django on Fly.io">Deploying Cookiecutter Django on Fly.io</a></h2> </header>
                <section><h1>Deploying Cookiecutter Django on Fly.io</h1>
<h3><em>with Celery, Postgres, Redis</em></h3>
<p><a href="https://nodesource.com/products/nsolid"><img alt="N|Solid" src="https://cldup.com/dTxpPi9lDf.thumb.png"></a></p>
<p><a href="https://travis-ci.org/joemccann/dillinger"><img alt="Build Status" src="https://travis-ci.org/joemccann/dillinger.svg?branch=master"></a></p>
<h2>tl;dr</h2>
<p>Cookiecutter Django is awesome but a difficult to deploy apart from the official routes. With a few small tweaks we can deploy on Fly.io with everything included (Celery workers, PG, Redis, S3 storage)</p>
<h2>Steps</h2>
<p>1) Generate project …</p></section>
                <footer>
                    <p>Published: <time datetime="2024-05-01T10:20:00+01:00"> Wed 01 May 2024 </time></p>
                    <address>By
                        <a href="/author/mark-swaringen.html">Mark Swaringen</a>
                    </address>
                </footer>
        </article>
        <article>
                <header> <h2><a href="/my-first-review.html" rel="bookmark" title="Permalink to My First Review">My First Review</a></h2> </header>
                <section><p>Following is a review of my favorite mechanical keyboard.</p>
<div class="highlight"><pre><span></span><code><span class="nd">@task</span>
<span class="k">def</span> <span class="nf">serve</span><span class="p">(</span><span class="n">c</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Serve site at http://$HOST:$PORT/ (default is localhost:8000)&quot;&quot;&quot;</span>

    <span class="k">class</span> <span class="nc">AddressReuseTCPServer</span><span class="p">(</span><span class="n">RootedHTTPServer</span><span class="p">):</span>
        <span class="n">allow_reuse_address</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="n">server</span> <span class="o">=</span> <span class="n">AddressReuseTCPServer</span><span class="p">(</span>
        <span class="n">CONFIG</span><span class="p">[</span><span class="s2">&quot;deploy_path&quot;</span><span class="p">],</span>
        <span class="p">(</span><span class="n">CONFIG</span><span class="p">[</span><span class="s2">&quot;host&quot;</span><span class="p">],</span> <span class="n">CONFIG</span><span class="p">[</span><span class="s2">&quot;port&quot;</span><span class="p">]),</span>
        <span class="n">ComplexHTTPRequestHandler</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">if</span> <span class="n">OPEN_BROWSER_ON_SERVE</span><span class="p">:</span>
        <span class="c1"># Open site in default browser</span>
        <span class="kn">import</span> <span class="nn">webbrowser</span>

        <span class="n">webbrowser</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s2">&quot;http://</span><span class="si">{host …</span></code></pre></div></section>
                <footer>
                    <p>Published: <time datetime="2010-12-03T10:20:00+00:00"> Fri 03 December 2010 </time></p>
                    <address>By
                        <a href="/author/mark-swaringen.html">Mark Swaringen</a>
                    </address>
                </footer>
        </article>


        </main>
        <footer>
                <address>
                Proudly powered by <a rel="nofollow" href="https://getpelican.com/">Pelican</a>,
                which takes great advantage of <a rel="nofollow" href="https://www.python.org/">Python</a>.
                </address>
        </footer>
</body>
</html>